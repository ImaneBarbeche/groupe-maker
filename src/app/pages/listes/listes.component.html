<h2>Mes listes d'élèves</h2>

@if (listes.length === 0) {
  <div class="message-vide">
    Aucune liste pour le moment. Créez-en une pour commencer !
  </div>
}

<div class="listes-grid">
  @for (liste of listes; track liste.id) {
    <div class="liste-card">
      <h3>{{ liste.nom }}</h3>
      <p>👥 Élèves : {{ liste.eleves.length }}</p>
      <p>🎲 Tirages effectués : {{ liste.tirages }}</p>
    </div>
    <button (click)="supprimerListe(liste.id)">Supprimer</button>
  }
</div>

<section class="creation-form">
  <form (submit)="creerListe()">
    <label for="nomListe">Nom de la nouvelle liste :</label>
    <input
      type="text"
      id="nomListe"
      [(ngModel)]="nouvelleListeNom"
      name="nomListe"
      required />

    @if (erreurNomExiste) {
      <p class="erreur">Ce nom est déjà utilisé.</p>
    }
<!-- bouton inactif tant qu'un nom de liste n'est pas entré -->
    <button type="submit" [disabled]="!nouvelleListeNom.trim()">Créer</button> 
    
  </form>
</section>
