<div class="role-choice">
  <button
    type="button"
    (click)="setRole('eleve')"
    [class.selected]="userRole === 'eleve'"
  >
    Je suis élève
  </button>

  <button
    type="button"
    (click)="setRole('formateur')"
    [class.selected]="userRole === 'formateur'"
  >
    Je suis formateur
  </button>
</div>

<form (ngSubmit)="onSubmit()">
  @if (!userRole) {
  <p style="text-align: center">
    Veuillez choisir un rôle pour commencer l'inscription.
  </p>
  } 
  
  @if (userRole === 'eleve') {
  <!-- Afficher les champs de l'élève -->
  <!-- Champ prénom -->
  <label>Prénom :</label>
  <input type="text" [(ngModel)]="eleve.firstName" name="firstName" required />

  <!-- Champ nom d'utilisateur -->
  <label>Nom d'utilisateur :</label>
  <input type="text" [(ngModel)]="eleve.username" name="username" required />

  <!-- Champ âge -->
  <label>Âge :</label>
  <input type="number" [(ngModel)]="eleve.age" name="age" required />

  <!-- Champ genre -->
  <label>Genre :</label>
  <select [(ngModel)]="eleve.gender" name="gender" required>
    @for (gender of genders; track gender) {
    <option [value]="gender">{{ gender }}</option>
    }
  </select>

  <!-- Langue -->
  <label>Aisance en français :</label>
  <select [(ngModel)]="eleve.language" name="language" required>
    @for (lang of languages; track lang) {
    <option [value]="lang">{{ lang }}</option>
    }
  </select>

  <!-- Niveau technique -->
  <label>Niveau technique :</label>
  <select [(ngModel)]="eleve.techLevel" name="techLevel" required>
    @for (techLevel of techLevels; track techLevel) {
    <option [value]="techLevel">{{ techLevel }}</option>
    }
  </select>
  <!-- Profil -->
  <label>Profil :</label>
  <select [(ngModel)]="eleve.profil" name="profil" required>
    @for (profil of profiles; track profil) {
    <option [value]="profil">{{ profil }}</option>
    }
  </select>
  <label>Groupe CDA :</label>
  <select [(ngModel)]="eleve.cdaGroup" name="cdaGroup" required>
    <option value="">-- Choisir un groupe --</option>
    <option value="CDA Java">CDA Java</option>
    <option value="CDA PHP">CDA PHP</option>
  </select>

  <label>
    <input type="checkbox" [(ngModel)]="eleve.dwwmStudent" name="dwwmStudent" />
    Ancien·ne étudiant·e DWWM
  </label>

  <!-- Bouton d'inscription -->
  <button type="submit">S'inscrire</button>

  } @else if (userRole === 'formateur') {
  <!-- Afficher les champs du formateur -->
  <label>Prénom :</label>
  <input type="text" [(ngModel)]="formateur.firstName" name="firstName" required />

  <!-- Champ nom d'utilisateur -->
  <label>Nom d'utilisateur :</label>
  <input type="text" [(ngModel)]="formateur.username" name="username" required />

  <!-- Champ âge -->
  <label>Âge :</label>
  <input type="number" [(ngModel)]="formateur.age" name="age" required />

  <label>Spécialité :</label>
  <input type="text" [(ngModel)]="formateur.speciality" name="speciality" required />

  <!-- Champ genre -->
  <label>Genre :</label>
  <select [(ngModel)]="formateur.gender" name="gender" required>
    @for (gender of genders; track gender) {
    <option [value]="gender">{{ gender }}</option>
    }
  </select>
  <!-- Bouton d'inscription -->
  <button type="submit">S'inscrire</button>
  }
</form>

<div class="form-footer">
  <button type="button" (click)="annuler()">Annuler</button>
</div>
