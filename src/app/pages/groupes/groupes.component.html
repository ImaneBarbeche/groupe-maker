<h2>Gestion des groupes</h2>

<section class="groupes-config-section">
  <app-groupes-config
    [listes]="listes"
    [listeSelectionnee]="listeSelectionnee ?? null"
    [nombreDeGroupes]="configGeneration.nombreDeGroupes"
    [equilibrerFrancais]="configGeneration.equilibrerFrancais"
    [equilibrerTechnique]="configGeneration.equilibrerTechnique"
    [mixDWWM]="configGeneration.mixDWWM"
    [equilibrerProfil]="configGeneration.equilibrerProfil"
    (listeChange)="onListeChange($event)"
    (configChange)="onConfigChange($event)"
    (lancerGeneration)="lancerGeneration()"
  ></app-groupes-config>
</section>

<section class="groupes-grid-section">
  <h3>Groupes générés</h3>

  @if (listeSelectionnee && !listeSelectionnee.groupes?.length) {
  <p class="message-vide">Aucun groupe généré pour cette liste.</p>
  } @if (listeSelectionnee?.groupes?.length) {
  <app-groupes-display
    [groupes]="listeSelectionnee?.groupes ?? []"
    [tirageValide]="listeSelectionnee?.tirageValide ?? false"
    [listeSelectionnee]="listeSelectionnee ?? null"
    (supprimerGroupe)="supprimerGroupeParNom($event)"
    (valider)="validerTirage()"
    (annuler)="annulerTirage()"
    (dragDrop)="deplacerEleve($event)"
  ></app-groupes-display>
  }
</section>
