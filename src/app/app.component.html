<header class="header">
  <h1>Group Maker</h1>

  @if (!utilisateurActif) {
    <div class="header-buttons">
      <button (click)="afficherModaleConnexion = true">Se connecter</button>
      <button (click)="afficherModaleInscription = true">S'inscrire</button>
    </div>
  } @else {
    <nav class="header-buttons">
      <a routerLink="/listes">Listes</a>
      <a routerLink="/groupes">Groupes</a>
      <a routerLink="/historique">Historique</a>
      <a routerLink="/profil">Mon profil</a>
      <button (click)="seDeconnecter()">DÃ©connexion</button>
    </nav>
  }
</header>

@if (afficherModaleConnexion) {
  <div class="modale-backdrop" (click)="fermerModale()">
    <div class="modale" (click)="$event.stopPropagation()">
      <app-connexion
        (fermer)="fermerModale()"
        (connecte)="onUtilisateurConnecte()">
      </app-connexion>
    </div>
  </div>
}

@if (afficherModaleInscription) {
  <div class="modale-backdrop" (click)="fermerModaleInscription()">
    <div class="modale" (click)="$event.stopPropagation()">
      <app-inscription
        (fermer)="fermerModaleInscription()"
        (connecte)="onUtilisateurConnecte()">
      </app-inscription>
    </div>
  </div>
}

@if (afficherCGU) {
  <div class="cgu-banner">
    <p>
      En utilisant ce site, vous acceptez nos CGU et l'utilisation de cookies.
      <a href="/cgu" target="_blank">Lire les CGU</a>
    </p>
    <button (click)="accepterCGU()">J'accepte</button>
  </div>
}

<router-outlet></router-outlet>
